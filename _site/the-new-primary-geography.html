<!DOCTYPE html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>Maps of Home</title>
  <meta name="description" content="">

  <link rel="canonical" href="http://localhost:4000/the-new-primary-geography">
  <link rel="alternate" type="application/rss+xml" title="Moriarty Naps v2" href="http://localhost:4000/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text|Quicksand|Proza+Libre|Averia+Serif+Libre|Oleo+Script|Maven+Pro" rel="stylesheet">

  <!-- build:css /assets/styles/main.css -->
    <link rel="stylesheet" href="/assets/styles/main.css">
  <!-- endbuild -->

  <link rel="apple-touch-icon" sizes="57x57" href="/assets/graphics/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/graphics/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/graphics/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/graphics/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/graphics/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/graphics/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/graphics/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/graphics/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/graphics/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/graphics/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/graphics/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/graphics/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/graphics/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/graphics/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/graphics/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff"> 

  
    <meta property="og:title" content="Maps of Home" />
  

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@DylanMoriarty">
  <meta name="twitter:creator" content="@DylanMoriarty">
  <meta name="twitter:title" content="Maps of Home">

  
    <meta name="twitter:description" content="Maps and doodles of a place called Home">
    <meta property="og:description" content="Maps and doodles of a place called Home" />
  

  
    <meta property="og:url"         content="https://moriartynaps.org/maps-of-home/" />
  
  <meta property="og:type"        content="article" />
  <meta property="og:title"       content="Maps of Home" />
  <meta property="og:image"       content="https://moriartynaps.org/assets/graphics/posts/09-home/soc-img.jpg" />

  <meta name="twitter:image" content="https://moriartynaps.org/assets/graphics/posts/09-home/twi-img.jpg">
</head>


<h1 class="site-title"><a href="../" class="no_underline">Moriarty Naps</a></h1>

<div class="site-home">
  
<div class="nav-container nav-container__right">
	<div class="nav-musicBox">
		<iframe width="100%" height="200" src="https://www.youtube.com/embed/videoseries?list=PL1KbmvLItolQlZ2TMezLG9_FngQVkz7Ee" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
	</div>

	<div class="nav-container__tunes">
    
      <img src="../assets/graphics/posts/music-box.gif" class="music-box-gif music-box-gif_left" />
  		<i>Hover for Companion tunes</i>
      <img src="../assets/graphics/posts/music-box-r.gif" class="music-box-gif music-box-gif_right" />
    
	</div>
</div>




  <link href="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>





  <script src='https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.min.js'></script>




<section class="article-container">

  <div class="article-gutter article-gutter_middle"></div>

  <article class="article-content article-content_middle">
    <div class="article-header">
      <div class="article-back"><a href="../" class="no_underline">&larr; back</a></div>
      <h3 class="">Maps of Home</h3>
    </div>

    <div class="Maps-from-home"></div>

<p>This is Janesville, Wisconsin</p>


  <style>
    body {
      background: #f0f0f0;
    }

    .new-gradient {
      position: relative;
    }

    .new-gradient:before {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
      content: "";
      background: #f0f0f0;
      background: -moz-linear-gradient(top, $bodyColor 0%, $bodyToFade 100%);
      background: -webkit-linear-gradient(top, $bodyColor 0%, site-title$bodyToFade 100%);
      background: linear-gradient(to bottom, #f0f0f0 0%, #cee6e5 100%);
      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='$bodyColor', endColorstr='$bodyToFade',GradientType=0 ); /* IE6-9 */
    }

    .map-container {
      top: 0;
      position: sticky;
      position: -webkit-sticky;
      max-width: 1000px;
      width: 100%;
      height: 100vh;
      margin: -8rem auto 0 auto;
      background-color: rgba(0,0,0,0) !important;
    }

    #map {
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0) !important;
    }

    #map-second {
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0) !important;
    }

    .map-cover {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: 100%;
      z-index: 9;
      background-image: radial-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,0) 40%, #f0f0f0 60%);
    }

    .mapboxgl-canvas-container {
      background-color: rgba(0,0,0,0) !important;
    }

    .scroll-list {
    }

    .scroll-list li {
      list-style: none;
      margin: 0 auto 90vh;
      width: fit-content;
      max-width: 400px;
      background-color: rgba(240, 240, 240, 0.95);
      box-shadow: 0px 0px 8px rgba(240, 240, 240, 0.85);
      padding: 0.75rem 0.5rem 0.5rem 0.5rem;
      border-radius: 10px;
    }

    .scroll-list li p {
      font-size: 20px;
      line-height: 28px;
      margin-bottom: 0.5rem;
    }

    .scroll-list li::before {
      content: '';
    }

    .intro-viz { width: 100%; }

    .article-map-cont { padding-bottom: 0; }

    footer { background-color: #b6d3cf; }
  </style>

  </article>
</section>

  <section class="article-container article-cotainer__within article-map-cont">
    <article class="intro-viz">
      <div class="map-container">
        <div class="map-cover"></div>
        <div id="map"></div>
      </div>
      <ol class="scroll-list">
        <li class="slide-1">
          <p>...as it shows up on most maps.</p>
      </li>
      <li class="slide-2">
        <p>Founded in 1835 by a woodsman and city planner, most people know it as the hometown of Paul Ryan and a General Motors plant that shut down years ago.</p>
      </li>
      <li class="slide-3">
        <p><i>This</i> is Janesville, Wisconsin, to me.</p>
        <p>Between 1990 and 2009, this was home.</p>
        </li>
      <li class="slide-4">
        <p>Hopping through a shortcut hole in a fence walking to school,</p>
      </li>
      <li class="slide-5">
        <p>Struggling to move a solid wood piano replica across an alleyway in midst a snowstorm...</p>
      </li>
      <li class="slide-6">
        <p>Finding sanctuary from the night-time monsters...</p>
      </li>
      <li class="slide-7">
        <p>Looking forward to the mornings that my crush <i>might</i> sit next to me...</p></li>
      <li class="slide-8">
        <p>Shoveling freshly fallen snow.</p></li>
    </ol>
    <div class="fin"></div>

  </article>
</section>
  <section class="article-container article-cotainer__within">
      <div class="article-gutter article-gutter_middle"></div>
      <article class="article-content article-content_middle">

<div class="Chapterbox">
	<div class="ChapterboxHeader">
		<div class="ChapterboxHeaderLine ChapterboxLine"></div>
    
    <h2>
    1.
</h2>
<div class="ChapterboxHeaderLine ChapterboxLine"></div>
</div>
<div class="ChapterboxTitle">Home, Again
</div>
<div class="ChapterboxFooterLine ChapterboxLine"></div>
</div>

<p>After six months on an island in New York City, I moved back to Wisconsin. Initially planned as a long trip, a family member’s “<em>not-the-plague-but-still-serious</em>” illness spurred a more temporarily permanent relocation.</p>

<p>Like most folks who move away, I’ve returned a good deal for quick holiday pop-ins. Sticking around, however, really floods ya with recollections. Lots of: “<em>Oh, that’s right, Wisconsin is like this</em>”. Absence makes the heart grow fonder, and the brain forget how many spiders live in Midwestern homes.</p>

<div class="post-image inline-img ">
  
  <fig>
		<img src="/assets/graphics/blank.png" alt="" data-echo="/assets/graphics/posts/09-home/midwest.png" />
	</fig>
  
	<figcaption>
		
	</figcaption>
</div>

<p>For those who read <a href="https://moriartynaps.org/maps-from-isolation/" target="_blank">Maps from Isolation</a>, I went with driving to make the trip. As much fun as walking halfway across the country could have been…</p>

<div class="Chapterbox">
	<div class="ChapterboxHeader">
		<div class="ChapterboxHeaderLine ChapterboxLine"></div>
    
    <h2>
    2.
</h2>
<div class="ChapterboxHeaderLine ChapterboxLine"></div>
</div>
<div class="ChapterboxTitle">Islands in the Stream
</div>
<div class="ChapterboxFooterLine ChapterboxLine"></div>
</div>

<p>Of course, the specter of Covid-19 looms large over this homecoming. In lieu of “<em>welcome back drinks</em>, there’s instead “<em>friendly hand waves from porches</em>.” It continues to be a weird pseudo-presence. Despite being more physically nearby to folks, quarantining makes it hard to feel that much actually closer.</p>

<p>For the most part, conversations follow a similar trajectory – covid sucks, isolation is a bummer, but we’re persevering. Without the opportunity to do things with others, or share experiences that aren’t plague related, conversations can feel surface level.</p>

  </article>
</section>

  <section class="article-container article-cotainer__within article-map-cont">
    <article class="intro-viz">
      <div class="map-container map-container__second">
        <div class="map-cover"></div>
        <div id="map-second"></div>
      </div>
      <ol class="scroll-list">
        <li class="slide-21">
          <p>That said, every rendezvous carries a weight with it.</p>
        </li>
        <li class="slide-22">
          <p>That you're taking a risk, however mitigated or small,</p>
        </li>
        <li class="slide-23">
          <p>just to sit and chat for a bit.</p>
        </li>
        <li class="slide-25">
          <p>I've never missed Janesville, and don't feel an urge to end up here. Instead, I appreciate that for nineteen years, it was a good place to grow up with a lot of wonderful folks running around.</p>
      </li>
      <li class="slide-26">
        <p>It is enthralling realizing that for each of those folk, this lil' dot blows out to a whole other story.</p>
      </li>
      <li class="slide-27">
        <p>Heck, anyone whose ever slept in the bounds of <code>[-126.6,49.6], [-65,24.2]</code></p>
      </li>
      <li class="slide-28">
        <p>or anywhere, <i>ever</i></p>
      </li>
      <li class="slide-29">
        <p>will draw their own dreams of what a place it was.</p>
      </li>
    </ol>
    <div class="fin"></div>

  </article>
</section>
  <div class="new-gradient">
  <section class="article-container article-cotainer__within">
      <div class="article-gutter article-gutter_middle"></div>
      <article class="article-content article-content_middle">

<div class="Chapterbox">
	<div class="ChapterboxHeader">
		<div class="ChapterboxHeaderLine ChapterboxLine"></div>
    
    <h2>
    3.
</h2>
<div class="ChapterboxHeaderLine ChapterboxLine"></div>
</div>
<div class="ChapterboxTitle">Dancing With a Memory
</div>
<div class="ChapterboxFooterLine ChapterboxLine"></div>
</div>

<p>The Janesville I grew up in is gone forever, and that’s ok! You can’t visit it really, but I’m content that at least this familiar space retains some echoes. Small confirmations of that time and place.</p>

<p>That hole in the fence was never repaired. The steel wire remains bashed down for easy passage, though without Moriarty’s trampling it daily, fauna has overtaken the gap. A small tree is growing right through it.</p>

<p>Traces linger of a kid trotting off to school.</p>

      </article>
    </section>

<div class="post-image black-border post-image__full">
  
  <fig>
		<img src="/assets/graphics/blank.png" alt="" data-echo="/assets/graphics/posts/09-home/hole-in-the-fence.jpg" />
	</fig>
  
	<figcaption>
		
	</figcaption>
</div>

    <section class="article-container article-cotainer__within">
      <div class="article-gutter article-gutter_middle"></div>
      <article class="article-content article-content_middle">

<p><i>-Dylan<br />
<span class="post-date">October, 22nd 2020</span></i></p>

<script>
  const MapsFromHome = document.querySelector('.Maps-from-home')

  let usAnimation = false
  let worldAnimation = false
  let animationRadiusVar = 0.035
  let countryAnimation = false
  let wisconAnimation = false

  mapboxgl.accessToken = 'pk.eyJ1IjoiZG1vcmlhcnR5IiwiYSI6Ikd3T29EOWMifQ.-DKJ4ernht84AZmc6Bk51Q'

  // Intro Map
  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/dmoriarty/ckfxb2lit031w19sxw3sauitl',
    center: [-89.0187,42.6828],
    zoom: 5 
  })

  // Followup Map
  const secondMap = new mapboxgl.Map({
    container: 'map-second',
    style: 'mapbox://styles/dmoriarty/ckfxb2lit031w19sxw3sauitl',
    center: [-89.0088435,42.6845751],
    zoom: 13.5
  })

  map.on('load', function() {
      map.boxZoom.disable();
      map.scrollZoom.disable();
      map.dragPan.disable();
      map.dragRotate.disable();
      map.keyboard.disable();
      map.doubleClickZoom.disable();
      map.touchZoomRotate.disable();

      map.addSource('overlay', {
        'type': 'image',
        'url': '/assets/graphics/posts/09-home/home-2.png',
        'coordinates': [
            [-89.05998229980469,42.715488939866084],
            [-88.97415161132812,42.715488939866084],
            [-88.97415161132812,42.65087935554455],
            [-89.05998229980469,42.65087935554455]
        ]
      })

      map.addSource('janesville-label', {
        'type': 'image',
        'url': '/assets/graphics/posts/09-home/janesville-label.png',
        'coordinates': [
            [-88.96728515624999,42.956422511073335],
            [-87.176513671875,42.956422511073335],
            [-87.176513671875,42.68243539838623],
            [-88.96728515624999,42.68243539838623]
        ]
      })

      map.addLayer({
        'id': 'overlay',
        'source': 'overlay',
        'type': 'raster',
        'paint': {'raster-opacity': 1}
      })
      map.addLayer({
        'id': 'janesville-label',
        'source': 'janesville-label',
        'type': 'raster',
        'paint': {'raster-opacity': 1}
      })
  })

  // -- = -- MAP ONE WAYPOINTS -- = --
  const waypoint = wafflecone(
    '.slide-2',
    [-89.0187,42.6828],
    5,
    '60%',
    map,
    false
  )

  const waypoint2 = wafflecone(
    '.slide-3',
    [-89.0188435,42.6845751],
    12.35,
    '90%',
    map,
    false
  )

  const way_fence = wafflecone(
    '.slide-4',
    [-89.0108871459961,42.678270918427195],
    14,
    '75%',
    map,
    false
  )
       
  const way_piano = wafflecone(
    '.slide-5',
    [-89.04092788696289,42.67397995016923],
    14,
    '75%',
    map,
    false
  )

  const way_creepiess = wafflecone(
    '.slide-6',
    [-89.01720864868164,42.69905333013366],
    14,
    '75%',
    map,
    false
  )

  const way_school = wafflecone(
    '.slide-7',
    [-88.9881420135498,42.67719820414012],
    14,
    '75%',
    map,
    false
  )

  const way_madison = wafflecone(
    '.slide-8',
    [-89.0188435,42.6845751],
    14,
    '75%',
    map,
    false
  )

  const animateMap = function() {
    requestAnimationFrame(animateMarker)
  }

  function animateMarker(timestamp) {
    const radOne = (Math.random() * 100) * animationRadiusVar
    const radTwo = (Math.random() * 100) * animationRadiusVar
    const radThree = (Math.random() * 100) * animationRadiusVar
    const radFour = (Math.random() * 100) * animationRadiusVar

    secondMap.setPaintProperty('world-bord-one', 'circle-radius', radOne)
    secondMap.setPaintProperty('world-bord-two', 'circle-radius', radTwo)
    secondMap.setPaintProperty('world-bord-three', 'circle-radius', radThree)
    secondMap.setPaintProperty('world-bord-four', 'circle-radius', radFour)

    if(worldAnimation) {
      requestAnimationFrame(animateMarker);
    } else {
      'END IT END IT'
    }
  }

  secondMap.on('load', function() {
    secondMap.addSource('today-parents', {
      'type': 'image',
      'url': '/assets/graphics/posts/09-home/today-parents.png',
      'coordinates': [
        [-89.03715133666992,42.70073056317599],
        [-88.97998809814453,42.70073056317599],
        [-88.97998809814453,42.66905759231552],
        [-89.03715133666992,42.66905759231552]
      ]
    })

    secondMap.addSource('today-other', {
      'type': 'image',
      'url': '/assets/graphics/posts/09-home/today-other.png',
      'coordinates': [
        [-89.03715133666992,42.70073056317599],
        [-88.97998809814453,42.70073056317599],
        [-88.97998809814453,42.66905759231552],
        [-89.03715133666992,42.66905759231552]
      ]
    })

    secondMap.addSource('today-mad', {
      'type': 'image',
      'url': '/assets/graphics/posts/09-home/today-madison.png',
      'coordinates': [
        [-89.03715133666992,42.70073056317599],
        [-88.97998809814453,42.70073056317599],
        [-88.97998809814453,42.66905759231552],
        [-89.03715133666992,42.66905759231552]
      ]
    })

    secondMap.addSource('janesville-label', {
      'type': 'image',
      'url': '/assets/graphics/posts/09-home/janesville-label.png',
      'coordinates': [
          [-88.96728515624999,42.956422511073335],
          [-87.176513671875,42.956422511073335],
          [-87.176513671875,42.68243539838623],
          [-88.96728515624999,42.68243539838623]
      ]
    })

    secondMap.addLayer({
      'id': 'janesville-label',
      'source': 'janesville-label',
      'type': 'raster',
      'paint': {'raster-opacity': 1}
    })

    secondMap.addLayer({
      'id': 'today-parents',
      'source': 'today-parents',
      'type': 'raster',
      'paint': {'raster-opacity': 1}
    })
    secondMap.addLayer({
      'id': 'today-other',
      'source': 'today-other',
      'type': 'raster',
      'paint': {'raster-opacity': 0}
    })
    secondMap.addLayer({
      'id': 'today-mad',
      'source': 'today-mad',
      'type': 'raster',
      'paint': {'raster-opacity': 0}
    })

    secondMap.setLayoutProperty('bg-hidden', 'visibility', 'visible');

    // -- = -- MAP TWO WAYPOINTS -- = --
    const map2_illoFadeOne = wafflecone(
      '.slide-21',
      [-89.0088435,42.6845751],
      13.5,
      '80%',
      secondMap,
      false,
      'today-parents'
    )

    const map2_illoFadeTwo = wafflecone(
      '.slide-22',
      [-89.0088435,42.6845751],
      13,
      '80%',
      secondMap,
      false,
      'today-other'
    )

    const map2_illoFadeThree = wafflecone(
      '.slide-23',
      [-89.0088435,42.6845751],
      12.85,
      '80%',
      secondMap,
      false,
      'today-mad'
    )

    // turn Map on
    const map2_illoFadeBg = wafflecone(
      '.slide-25',
      [-89.0088435,42.6845751],
      6,
      '80%',
      secondMap,
      false,
      null,
      1
    )

    // zoom to Wisc
    const map2_zoomToJanesville = wafflecone(
      '.slide-26',
      [-89.0088435,42.6845751],
      6,
      '80%',
      secondMap,
      true,
      null
    )

    // zoom to U.S.
    const map2_zoomToUS = wafflecone(
      '.slide-27',
      [-98.5794797,39.8283459],
      3,
      '80%',
      secondMap,
      true,
      null,
      2
    )

    const map2_zoomToGlobal = wafflecone(
      '.slide-28',
      [0,0],
      0.5,
      '80%',
      secondMap,
      true,
      null,
      3
    )
  })

  function fadeLayer(image, fade) {
    secondMap.setPaintProperty(image, 'raster-opacity', fade)
  }

  function wafflecone(elem, center, zoom, offset, mapElm, animate, layer, endChange) {
        return new Waypoint({
          element: document.querySelector(elem),
          handler: function(direction) {
            mapElm.flyTo({
              'center': center,
              'zoom': zoom,
              'speed': 0.2
            })

            if (animate) {
              worldAnimation = true
              animateMap()
            } else {
              worldAnimation = false
            }

            if (layer) { fadeLayer(layer, 1) }
            if (endChange === 1) {
              secondMap.setLayoutProperty('bg-hidden', 'visibility', 'none');
            } else if (endChange === 2) {
              secondMap.setPaintProperty('janesville-label', 'raster-opacity', 0)
              secondMap.setLayoutProperty('us-cities-one', 'visibility', 'visible');
              secondMap.setLayoutProperty('us-cities-two', 'visibility', 'visible');
              secondMap.setLayoutProperty('us-cities-three', 'visibility', 'visible');
              secondMap.setLayoutProperty('global-cities-one', 'visibility', 'visible');
              secondMap.setLayoutProperty('global-cities-two', 'visibility', 'visible');
              secondMap.setLayoutProperty('global-cities-three', 'visibility', 'visible');
            } else if (endChange === 3) {
            } else {
            }
          },
          offset: offset
        })
  }
</script>

<div class="notes">
  <p>The map concept at the top of this piece has been kicking in my head for a long while. Came from a dream: Meandering in a museum space, from far, far away you see a map introducing a new exhibit on New York City. Walking closer, the standard .NEW YORK CITY dot became more detailed until you'd get to up close and discovered that each inch had a drawing detailing that block's history. A historical illustration with the energy and detail of a <a href="https://www.google.com/search?q=where%27s+waldo+page&amp;tbm=isch&amp;ved=2ahUKEwiuxtTT1qLsAhVoja0KHTkeCZsQ2-cCegQIABAA&amp;oq=where%27s+waldo+page&amp;gs_lcp=CgNpbWcQAzICCAAyAggAMgIIADICCAAyBggAEAgQHjIGCAAQCBAeMgYIABAIEB4yBggAEAgQHjIGCAAQCBAeMgYIABAIEB46BwgAELEDEEM6BAgAEEM6BQgAELEDUOoDWLcVYNAWaAFwAHgAgAHqAYgBwwWSAQUzLjIuMZgBAKABAaoBC2d3cy13aXotaW1nwAEB&amp;sclient=img&amp;ei=ps59X67bAuiatgW5vKTYCQ&amp;bih=978&amp;biw=1920" target="_blank">Where's Waldo page</a>. No doubt inspired by the wonderful <a href="https://www.davidrumsey.com/luna/servlet/detail/RUMSEY~8~1~272381~90046245:Chicago-Gangland-from-Authentic-Sou" target="_blank">1981 illustrated map of Chicago gangs.</a></p>

  <p>This is a more modest implementation of that concept. Don't quite feel like I could do that map justice without significant study. Making it more introspective saves a lot of time on research! Moving near Janesville and turning thirty probably helped too.</p>

  <p>Slippy maps made w/ <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a>, using <a href="http://www.openstreetmap.org/about/" target="_blank">OpenStreetMap</a> data. <a href="https://apps.mapbox.com/feedback/?owner=dmoriarty&amp;id=ckfxb2lit031w19sxw3sauitl&amp;access_token=pk.eyJ1IjoiZG1vcmlhcnR5IiwiYSI6Ikd3T29EOWMifQ.-DKJ4ernht84AZmc6Bk51Q" target="_blank">Improve the map!</a></p>

  <p>U.S. cities dataset from the U.S. Census.</p>
</div>



    <div class = "article-foot">
        <div class="article-back"><a href="../" class="no_underline">&larr; Home</a></div>
    </div>

  </article>
</section>

<script>
    (function (root, factory) {
        if (typeof define === 'function' && define.amd) {
          define(function() {
            return factory(root);
          });
        } else if (typeof exports === 'object') {
          module.exports = factory;
        } else {
          root.echo = factory(root);
        }
      })(this, function (root) {
      
        'use strict';
      
        var echo = {};
      
        var callback = function () {};
      
        var offset, poll, delay, useDebounce, unload;
      
        var isHidden = function (element) {
          return (element.offsetParent === null);
        };
        
        var inView = function (element, view) {
          if (isHidden(element)) {
            return false;
          }
      
          var box = element.getBoundingClientRect();
          return (box.right >= view.l && box.bottom >= view.t && box.left <= view.r && box.top <= view.b);
        };
      
        var debounceOrThrottle = function () {
          if(!useDebounce && !!poll) {
            return;
          }
          clearTimeout(poll);
          poll = setTimeout(function(){
            echo.render();
            poll = null;
          }, delay);
        };
      
        echo.init = function (opts) {
          opts = opts || {};
          var offsetAll = opts.offset || 0;
          var offsetVertical = opts.offsetVertical || offsetAll;
          var offsetHorizontal = opts.offsetHorizontal || offsetAll;
          var optionToInt = function (opt, fallback) {
            return parseInt(opt || fallback, 10);
          };
          offset = {
            t: optionToInt(opts.offsetTop, offsetVertical),
            b: optionToInt(opts.offsetBottom, offsetVertical),
            l: optionToInt(opts.offsetLeft, offsetHorizontal),
            r: optionToInt(opts.offsetRight, offsetHorizontal)
          };
          delay = optionToInt(opts.throttle, 250);
          useDebounce = opts.debounce !== false;
          unload = !!opts.unload;
          callback = opts.callback || callback;
          echo.render();
          if (document.addEventListener) {
            root.addEventListener('scroll', debounceOrThrottle, false);
            root.addEventListener('load', debounceOrThrottle, false);
          } else {
            root.attachEvent('onscroll', debounceOrThrottle);
            root.attachEvent('onload', debounceOrThrottle);
          }
        };
      
        echo.render = function (context) {
          var nodes = (context || document).querySelectorAll('[data-echo], [data-echo-background]');
          var length = nodes.length;
          var src, elem;
          var view = {
            l: 0 - offset.l,
            t: 0 - offset.t,
            b: (root.innerHeight || document.documentElement.clientHeight) + offset.b,
            r: (root.innerWidth || document.documentElement.clientWidth) + offset.r
          };
          for (var i = 0; i < length; i++) {
            elem = nodes[i];
            if (inView(elem, view)) {
      
              if (unload) {
                elem.setAttribute('data-echo-placeholder', elem.src);
              }
      
              if (elem.getAttribute('data-echo-background') !== null) {
                elem.style.backgroundImage = 'url(' + elem.getAttribute('data-echo-background') + ')';
              }
              else if (elem.src !== (src = elem.getAttribute('data-echo'))) {
                elem.src = src;
              }
      
              if (!unload) {
                elem.removeAttribute('data-echo');
                elem.removeAttribute('data-echo-background');
              }
      
              callback(elem, 'load');
            }
            else if (unload && !!(src = elem.getAttribute('data-echo-placeholder'))) {
      
              if (elem.getAttribute('data-echo-background') !== null) {
                elem.style.backgroundImage = 'url(' + src + ')';
              }
              else {
                elem.src = src;
              }
      
              elem.removeAttribute('data-echo-placeholder');
              callback(elem, 'unload');
            }
          }
          if (!length) {
            echo.detach();
          }
        };
      
        echo.detach = function () {
          if (document.removeEventListener) {
            root.removeEventListener('scroll', debounceOrThrottle);
          } else {
            root.detachEvent('onscroll', debounceOrThrottle);
          }
          clearTimeout(poll);
        };
      
        return echo;
      
      });
    </script>
    <script>
        echo.init({
          offset: 2500,
          throttle: 250,
          unload: false,
          callback: function (element, op) {
            //console.log(element, 'has been', op + 'ed')
          }
        });
    </script>
    

</div>

<footer id="footer">
	<div class="centerme">2024 <a target="_blank" href="https://www.instagram.com/moriartymaps/">Dylan Moriarty</a></div>
</footer>

<script src="/assets/scripts/main.js"></script>

